---
import Button from "./Button.astro";
---

<section class="etc-section section">
  <div class="u-container">
    <div class="etc-layout">
      <div class="etc-flyer">
        <img
          class="etc-flyer-img"
          src="flyer.jpg"
          srcset="flyer.jpg 1x, flyer@2x.jpg 2x"
          loading="lazy"
        />
      </div>
      <div class="etc-playlist">
        <iframe
          class="etc-playlist-iframe"
          data-testid="embed-iframe"
          style="border-radius:12px"
          src="https://open.spotify.com/embed/playlist/4JEmEpT6PPyAW6jPARE6mO?utm_source=generator"
          width="100%"
          height="352"
          frameBorder="0"
          allowfullscreen=""
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy"></iframe>
      </div>
    </div>
    <div class="etc-mobile-buttons">
      <Button href="flyer@2x.jpg">View flyer</Button>
      <Button
        href="https://open.spotify.com/playlist/4JEmEpT6PPyAW6jPARE6mO?si=hLBhAgmARRaOuOdJItLGfQ"
      >
        Artist playlist
      </Button>
    </div>
  </div>
</section>

<style is:global>
  .etc-mobile-buttons {
    margin-top: 1rem;
  }
  .etc-mobile-buttons .button {
    display: block;
    padding-left: 1rem;
    padding-right: 1rem;
    text-align: center;
  }
  .etc-mobile-buttons .button:first-child {
    margin-bottom: 1rem;
  }

  @media (max-width: 579px) {
    .etc-layout {
      display: none;
    }
  }
  @media (min-width: 580px) {
    .etc-mobile-buttons {
      display: none;
    }
    .etc-layout {
      display: flex;
      flex-wrap: wrap;
      margin: -3rem -1rem 0 -1rem;
    }
    .etc-layout > * {
      flex: 1 0 10rem;
      width: calc(50% - 0.5rem);
      margin: 1rem;
    }
    .etc-playlist-iframe {
      height: 100%;
    }
  }
</style>
